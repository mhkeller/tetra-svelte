{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/App.svelte",
    "../src/components/Camera.svelte",
    "../src/components/Box.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport Camera from './components/Camera.svelte';\n</script>\n\n<style>\n\t:global(body) {\n\t\tbackground-color: #000;\n\t}\n</style>\n\n<Camera/>\n\n",
    "<script>\n// import scaleCanvas from '../modules/scaleCanvas.js';\nimport Box from './Box.svelte';\nimport { onMount } from 'svelte';\n\nlet image;\nlet width;\nlet height;\nlet imageData;\nlet boxes;\n\nconst lang = 'fra';\n\nconst worker = window.Tesseract.createWorker({\n\tlogger: m => console.log(m)\n});\n\nasync function init () {\n\tawait worker.load();\n\tawait worker.setParameters({\n\t\ttessjs_create_box: 1\n\t});\n\tawait worker.loadLanguage(lang);\n\tawait worker.initialize(lang);\n\tconsole.log('done initializing');\n}\n\ninit();\n\nconst fileReader = new window.FileReader();\nfileReader.onload = function () {\n\timageData = fileReader.result;\n\tsetTimeout(() => {\n\t\twidth = image.width;\n\t\theight = image.height;\n\t\tdoOcr();\n\t}, 1000);\n};\n\nfunction doOcr () {\n\t(async () => {\n\t\tconsole.log('recognizing');\n\t\tconsole.log(image.width);\n\t\tconst { data } = await worker.recognize(image);\n\t\tconsole.log(data.text);\n\t\tboxes = data.words;\n\t\tconsole.log('boxes', boxes);\n\t\t// await worker.terminate();\n\t})();\n}\n\nlet files = [];\n\n$: file = files[0];\n$: if (file) fileReader.readAsDataURL(file);\n</script>\n\n<style>\n\t.open-camera {\n\t\tposition: fixed;\n\t\twidth: 100%;\n\t\theight: 10%;\n\t\tbottom: 0;\n\t\tbackground-color: #6699cc;\n\t\tborder-top-left-radius: 5px;\n\t\tborder-top-right-radius: 5px;\n\t}\n\t.open-camera:after {\n\t\tcontent: 'Take picture';\n\t\tposition: absolute;\n\t\tcolor: #fff;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\tfont-weight: bold;\n\t\ttransform: translate(-50%, -50%);\n\t}\n\t.open-camera:hover {\n\t\tbackground-color: #538cc6;\n\t}\n\tinput {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\topacity: 0;\n\t\tcursor: pointer;\n\t}\n\n\timg {\n\t\tmax-width: 100%;\n\t\tmax-height: 90%;\n\t}\n\n\t.image-container {\n\t\tposition: relative;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, 0);\n\t}\n\n\t.image-overlay {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n</style>\n\n<div\n\tclass=\"image-container\"\n\tstyle=\"width:{width}px; height:{height}px\"\n>\n\t{#if imageData}\n\t\t<img\n\t\t\tsrc=\"{imageData}\"\n\t\t\talt=\"uploaded image\"\n\t\t\tbind:this=\"{image}\"\n\t\t/>\n\t{/if}\n\t<div\n\t\tclass=\"image-overlay\"\n\t>\n\t\t{#if boxes}\n\t\t\t{#each boxes as box}\n\t\t\t\t<Box {box}/>\n\t\t\t{/each}\n\t\t{/if}\n\t</div>\n</div>\n\n<div class=\"open-camera\">\n\t<input\n\t\ttype=\"file\"\n\t\tcapture=\"camera\"\n\t\taccept=\"image/*\"\n\t\tname=\"cameraInput\"\n\t\tbind:files\n\t>\n</div>\n",
    "<script>\n\texport let box;\n\nfunction log () {\n\tconsole.log(box.text);\n}\n</script>\n\n<style>\n\t.box {\n\t\tposition: absolute;\n\t\tborder: 1px solid red;\n\t}\n</style>\n\n<div\n\tclass=\"box\"\n\tstyle=\"left: {box.bbox.x0}px; top: {box.bbox.y0}px; width: {box.bbox.x1 - box.bbox.x0}px; height: {box.bbox.y1 - box.bbox.y0}px\"\n\ton:click={log}\n\t></div>\n"
  ],
  "names": [],
  "mappings": "AAKS,IAAI,AAAE,CAAC,AACd,gBAAgB,CAAE,IAAI,AACvB,CAAC;ACmDD,YAAY,eAAC,CAAC,AACb,QAAQ,CAAE,KAAK,CACf,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,GAAG,CACX,MAAM,CAAE,CAAC,CACT,gBAAgB,CAAE,OAAO,CACzB,sBAAsB,CAAE,GAAG,CAC3B,uBAAuB,CAAE,GAAG,AAC7B,CAAC,AACD,2BAAY,MAAM,AAAC,CAAC,AACnB,OAAO,CAAE,cAAc,CACvB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,GAAG,CACT,WAAW,CAAE,IAAI,CACjB,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,AACjC,CAAC,AACD,2BAAY,MAAM,AAAC,CAAC,AACnB,gBAAgB,CAAE,OAAO,AAC1B,CAAC,AACD,KAAK,eAAC,CAAC,AACN,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,OAAO,AAChB,CAAC,AAED,GAAG,eAAC,CAAC,AACJ,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,GAAG,AAChB,CAAC,AAED,gBAAgB,eAAC,CAAC,AACjB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,GAAG,CACT,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC,AAC9B,CAAC,AAED,cAAc,eAAC,CAAC,AACf,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACb,CAAC;AC9FD,IAAI,eAAC,CAAC,AACL,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,GAAG,AACtB,CAAC"
}